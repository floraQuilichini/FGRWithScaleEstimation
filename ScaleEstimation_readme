The branch "scale_estimation" is an extension of FGR that estimates the scale coefficients in the transform. 
If the user open the "main.cpp" file, he will see that there is two mode for the application. The first mode (from line 36 to 53) is dedicated to FPFH, RoPS and SHOT descriptors. 
The second mode (from line 55 to the end ) is dedicated to GLS descriptors. 
For the first mode, the parameters are the following : 
- feature_01 : feature file (ie descriptor file) of the source object
- feature_02 : feature file of the target object
- transform_output_txt : output filename where the algorithm will write the transform
- do_ininital_matching : boolean to ask the algorithm to whether (1) or not (0) perform the point matching to create pairs. 
If the user choose to set this parameter to 0, then he will have to do the matching by his own means, before calling FGR
Once he done the matching, the pairs need to be saved at the end of each feature file. The format is  the following for a line of the file : index_p_source, index_p_target
- do_cross_check : boolean to ask the algorithm to whether (1) or not (0) perform the cross_check verification on the matching pairs. 
If the user choose to set this parameter to 0 , then he could (or not) apply another criterion to select the best matching pairs amongst all (for further details, check the readme of "GLS_last_version").
Then, he must write into the feature file the selected matching pairs, like he would do for inintial matching. 
NB : if the user wants to perform cross-check (or equivalent) by himself, then he should set "do_initial_matching" to 0 and "do_cross_check" to 0. Then, he only have to write in both feature files the set of pairs (with indices) he wants to work with. 

To test the first mode with only descriptor files, please use the data in "scale_estimation_dataset/other_descriptor/fpfh/descriptor_file_only" and type the following command in the terminal : 
ObjetSynthetique_simp_32_source_m0_s0.3_fpfh.bin ObjetSynthetique_simp_32_target_m0_s0.5XZ_fpfh.bin output_m0_s0.3m0_s0.5XZ.txt true true
In this example, "ObjetSynthetique_simp_32_source_m0_s0.3_fpfh.bin" and "ObjetSynthetique_simp_32_target_m0_s0.5XZ_fpfh.bin" contain only the descriptors (FPFH) of the point clouds, and the matching is done by FGR algorithm
To test the first mode with descriptor and matching files, please use the data in "scale_estimation_dataset/other_descriptor/fpfh/descriptor&matching_file"
ObjetSynthetique_simp32_source_m0_s0_fpfh.bin ObjetSynthetique_simp32_target_m0_s0_XZ0_fpfh.bin output.txt false false
In this example, "ObjetSynthetique_simp32_source_m0_s0_fpfh.bin" and "ObjetSynthetique_simp32_target_m0_s0_XZ0_fpfh.bin" contain the descriptor profiles (FPFH) AND the selected matching pairs. 
The original point cloud from which have been computed the descriptors are stored in "scale_estimation_dataset/other_descriptor/meshes"



For the second mode, the parameters are the following : 
- source_point_cloud : the ply file of the source point cloud. What we call "source" is the complete object compared to the "target" which is a crop of the object. 
- target_point_cloud : the ply file of the target point cloud
- triplet_pairs_file : the file where the k pairs (or the triplet of pairs) and their associated scale are stored. This file is the one given in output of GLS with aap2. In that file, for one line we have, the index of the target point and the index of the source point composing the pair, and the estimated scale for the pair 
- transform_output_txt : output filename where the algorithm will write the transform

To test the second mode, please use the data in "mode2_data" and type the following command in the terminal : 
bunny_simp.ply bunny_simp_rX45_t0-4-3.ply 3pairs_lambda0_file.txt transform.txt
In this example, "bunny_simp.ply" and "bunny_simp_rX45_t0-4-3.ply" are the source and target objects, and "3pairs_lambda0_file.txt" is the file that contains the matching pairs
veins.ply veins_downsampled_rX45_t1-10-3_s1-0.8-1.2_croppedZX.ply 3pairs_lambda0_file.txt transform.txt
